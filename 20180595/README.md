# Conquer

## Made by...

- **KAIST ID**: 20180595
- **Name**: Seokhun Jeong
- **Email**: kunjeong99@naver.com (main) / sraccoon@kaist.ac.kr (sub)

## Index of content

- TODO

## Overview

### Project Description

**Conquer** is a visual todo app that combines a simple to-do list with beautiful buildings and interactive features that make it a lot of fun to get things done. It also features a 2.5d map that helps you navigate, group and view your to-dos with ease. Conquer is built mainly with Next, React, Typescript, MaterialUI, Mobx, GSAP, and Mongoose.

### How to Run

1.  To run the webpage, navigate to the 'src' directory,

```shell
#install dependencies
yarn
#build project
yarn build
#run node
yarn start
```

2. To run the server, open a new Terminal, and:

```shell
cd server
yarn
yarn start
```

3. Open [localhost](http://localhost:80) to see the webpage!

## Detailed description

### Features

**Conquer** gives variation to the traditional to-do list in a game-like approach.

The UI is divided into two parts: the map and the inspector.

General
The UI is responsive. Resize your window to confirm. Not that nice for small screens.

**1. The Map**

On the map, you can do the following:

- _Select_ a cell, and the Inspector will show available information & interactions. The map will also automatically pan to center the cell.
- _Hover_ over todo cells to peek the todo name, and over cells around the map to see whether they can be added.
- _Click_ where there aren't any cells to show all todos (_List Mode_)
- _Drag_ where there aren't any cells to _pan_ the map.

Also, there are three icons on the top right, which I call "Map Controls"

You can do the following within Map Controls:

- Click **"+/-"** to increase/decrease cell size.
- Click the **edit** icon to go into _Edit Mode_.
- Click the **done** icon to end Edit Mode.

In Edit Mode, you can re-arrange items on you map.
Specifically, you can:

- Click on a target cell to _highlight_ it.
- Click on a destination cell to _move_ the highlighted cell to.
- Click outside to _deselect_, allowing you to _re-select_ and edit your map multiple times.

**2. The Inspector**

The inspector UI presents information and interactions relevant to the mode you are in.

When you _select_ a cell on the map (_Select Mode_):

- If it's a **Grass Cell**, you can _add_ a todo.
- If it's a **Todo Cell**, you can _complete_ / _edit_ the todo.
- If it's an **Add Cell**, you can _start_ a timer (enters _Focus Mode_).

There are views for other modes as well:

- In _Focus Mode_, see the remaining time and _cancel_ the timer.
- In _Edit Mode_, see instructions on how to edit the map.
- In _List Mode_, see the full list of todos and _select_ / _complete_ / _edit_ them quickly.

**3. Attention to detail.**

There are some details that aren't "features" but required further engineering to improve the usability and user experience.

- Clicking on an item in _List Mode_ automatically pans to the selected todo.
- Clicking the **edit** icon next to a todo in _List Mode_ automatically pans to the selected todo _and_ enters edit mode for the todo.
- When a timer completes, the map pans to center the newly added cell.

### Code structure

Here is the total structure of files that I created/modified for the project. I intentionally excluded `node_modules`, `package.json` and `yarn` files which are automatically generated by the package manager.

Folder structure was generated using the `tree` command.

```shell

```

0. General Structure

You can see that every part is organized in a sensible manner.

All the front-end folders have one `index` file. In `pages`, this corresponds to the main page of the app. In other folders, the `index` file `import`s everything inside the folder that is also needed outside and re-exports them, allowing me to later do multiple imports from that file. For instance, `components/isometricGrid/cells/index` exports `AddCell`, `GrassCell`, `TimerCell`, `TodoCell`, allowing me to do the following in `components/isometricGrid/CellView`:

```js
import { AddCell, TodoCell, GrassCell, TimerCell } from "./cells";
//instead of using default exports within each subfile, costing four lines:
import AddCell from "./cells/AddCell";
import TodoCell from "./cells/TodoCell";
import GrassCell from "./cells/GrassCell";
import TimerCell from "./cells/TimerCell";
```

I did this because many libraries like MaterialUI seemed to do this, and it allowed for 1) more compact syntax, 2) deciding which components to expose to outside folders in an API-like manner, and 3) Typescript auto-suggestions.

In the following sections I will describe each of the sub-folders in detail.

1. `components`
   Largest part of my code. This is where each part of the UI is divided and built and then put together to create the resulting UI. While there are too many files to explain all, here's the basic

See `components/isometricGrid/cells/Rhombus` for complex CSS styling.

4. `stores`
   Here are the Mobx stores. I

One could argue that everything can be stored in the server without the need for a store.

To use Mobx with React, we must make use of the `React.useContext` hook and provide the stores using a custom hook. The `hooks` & `contexts` directories contain boilerplate code for this purpose.

5. `server`
   Here the server code is located, contained in a separate node project. I have used the (controller, router, model) approach for two models: cells and todos.

`pages`
`public`

## Resources

[Demo Video]()

## Credits

I dived deep into the official documentation for each of the libraries I used.

- [Mobx (official)](https://mobx.js.org/README.html)
- [Mobx + React (deprecated)](https://mobx-react.js.org)
- [Nextjs](https://nextjs.org/docs/getting-started)
- [GSAP](https://greensock.com/learning/)
- [ReactJS](https://reactjs.org/docs/getting-started.html)
- [Axios](https://axios-http.com/docs/intro)
- [MaterialUI](https://material-ui.com)
- [mongoDB](http://mongodb.github.io/node-mongodb-native/3.4/quick-start/quick-start/)
- [Mongoose](https://mongoosejs.com/docs/guide.html)

Among these, the main code sources are:

**1) Mobx + React** which (though deprecated) contains the best examples for using Mobx with React Hooks in an actual project. You can see some similar code in `hooks/useStores`, `contexts/index`, and `components/StoreProvider` which are boilerplate code to connect Mobx stores and React.

**2) MaterialUI** from which I copied a couple of layout examples. Most of the example demos in their site use `makeStyles` which is pretty neat for styling. The views made earlier (`components/views/FocusView`, to name one) contain code similar to them, as later on I started using `Box` and inline styling

Also, `pages/_document` is copied from a [custom `_document` file](https://github.com/mui-org/material-ui/blob/master/examples/nextjs/pages/_document.js) provided by Material-UI.

I also searched and saw many Q&As in Stack Overflow, which are too numerous to list but I can 95% guarantee that didn't copy & paste code from any of them.

I also looked at [mobx + react example project](https://byseop.netlify.app/mobx-tutorial01/) for examples about Mobx being used with Axios.

I originally started with some boilerplate code from [create-next-app with mobx-react-lite](https://github.com/umarmw/nextjs-with-mobx-lite), but in the end nearly none of this code remains in the final project.

## License

- Specify your license

## Before the final submission

- [o] I changed the name of the folder YOUR_ID to my numerical ID
- [o] My code is included inside the src folder
- [x] The video of my project is included in this file as a link to an external visible resource (e.g., a public video)
- [x] I indicated in this file whether and from where I got help
